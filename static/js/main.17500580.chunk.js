(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{52:function(e,t,r){e.exports={container:"Container_container__2WC6z"}},78:function(e,t,r){},90:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=(r(78),r(10)),i=r.n(n),d=r(12),o=r(33),s=r(24),u=r(20),l=r(43),j=r(68),b=r.p+"static/media/6-1000x1000.9c0a3947.jpg",p=r.p+"static/media/6064641689.2e40e89d.jpg",m=r.p+"static/media/680395566_w640_h640_kruzhka-s-prikolom.6603be42.jpg",O=r.p+"static/media/kruzhka_sgushchenka_img.d966e552.webp",h=r.p+"static/media/people_2_mug_chameleon_front_whitered_500.8f503f2c.jpg",f=r.p+"static/media/pic1white.1ea6d9b1.jpg",x=[{name:"mug1",photo:b,id:1,price:50,toPurchase:1,inStock:10},{name:"mug3",photo:p,id:3,price:90,toPurchase:1,inStock:10},{name:"mug2",photo:m,id:2,price:70,toPurchase:1,inStock:10},{name:"mug4",photo:O,id:4,price:100,toPurchase:1,inStock:10},{name:"mug5",photo:h,id:5,price:110,toPurchase:1,inStock:10},{name:"mug6",photo:r.p+"static/media/product_57508_0_0_0.5fd91d27.jpg",id:6,price:120,toPurchase:1,inStock:10},{name:"mug7",photo:f,id:7,price:130,toPurchase:1,inStock:10}],g=[],y=function(e){return new Promise((function(t){setTimeout((function(){1===e&&t({result:"success",data:x}),t({result:"error",data:[]})}),1e3)}))},v=function(e){return new Promise((function(t){setTimeout((function(){t(x.find((function(t){return t.id===e})))}),0)}))},P=function(e,t){return g.push(e,t),new Promise((function(e){setTimeout((function(){e({result:"true"})}),1e3)}))},C=function(e){try{var t=JSON.stringify(e);localStorage.setItem("addedProduct",t)}catch(r){}},w=Object(s.c)({name:"cart",initialState:{sumPrice:0,addedCart:[],conditionBuy:!1},reducers:{setCart:function(e,t){var r=t.payload.addProduct;e.addedCart=[].concat(Object(j.a)(e.addedCart),[r]),e.sumPrice=e.addedCart.reduce((function(e,t){return e+t.price}),0),C(e.addedCart)},deleteCart:function(e,t){e.addedCart=e.addedCart.filter((function(e){return e.id!==t.payload.id})),C(e.addedCart)},totalPrice:function(e){e.sumPrice=e.addedCart.reduce((function(e,t){return e+t.price}),0)},subtractCart:function(e,t){e.addedCart.map((function(r){return r.id===t.payload.id&&(r.price-=r.price/r.toPurchase,r.toPurchase-=1),e})),C(e.addedCart)},addProductInCart:function(e,t){e.addedCart.map((function(e){var r=t.payload;return e.id===r.id&&(e.price+=e.price/e.toPurchase,e.toPurchase+=1),e})),e.sumPrice=e.addedCart.reduce((function(e,t){return e+t.price}),0),C(e.addedCart)},setBuy:function(e,t){e.conditionBuy=t.payload.result,e.addedCart=[],e.sumPrice=e.addedCart.reduce((function(e,t){return e+t.price}),0),C(e.addedCart)},conditionBuy:function(e,t){e.conditionBuy=t.payload.result}}}),A=w.reducer,N=w.actions,k=N.setCart,F=N.totalPrice,S=N.subtractCart,L=N.addProductInCart,B=N.deleteCart,D=N.setBuy,E=N.conditionBuy,I=Object(s.b)("cart/addInCart",(function(e,t){return v(e).then((function(e){t.dispatch(k({addProduct:e}))}))})),_=Object(s.b)("cart/buy",(function(e,t){P(e.addedCart,e.values).then((function(e){t.dispatch(D(e))}))})),T=r(57),V=r.n(T),z=r(60),M=Object(s.b)("goods/goodsAll",function(){var e=Object(z.a)(V.a.mark((function e(t,r){var a,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return a=e.sent,c=a.data,r.dispatch(F()),e.abrupt("return",{data:c});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),W=Object(s.c)({name:"goods",initialState:{result:"",data:[]},reducers:{},extraReducers:function(e){e.addCase(M.fulfilled,(function(e,t){e.data=t.payload.data}))}}).reducer,G=Object(u.b)({goods:W,cart:A}),R=Object(s.a)({reducer:G,middleware:function(e){return e().prepend(l.a)}});window.store=R;var Y=r(123),q=r(124),H=r(118),K=r(2),Q=Object(a.memo)((function(e){var t=e.picture,r=e.name,c=e.price,n=e.id,i=e.toPurchase,d=e.subtractProduct,o=e.DeleteProduct,s=e.AddProduct,u=Object(a.useCallback)((function(){d(n)}),[]),l=Object(a.useCallback)((function(){o(n)}),[]),j=Object(a.useCallback)((function(){s(n)}),[]);return Object(K.jsx)("div",{children:Object(K.jsxs)("div",{children:[Object(K.jsx)("img",{src:t,alt:"product_photo",style:{width:"150px",height:"150px"}}),Object(K.jsx)("div",{children:Object(K.jsx)("p",{children:r})}),Object(K.jsx)("div",{children:Object(K.jsx)("p",{children:c})}),Object(K.jsxs)("div",{style:{display:"flex"},children:[i>1?Object(K.jsx)(H.a,{variant:"contained",color:"primary",onClick:u,children:"-"}):Object(K.jsx)(H.a,{variant:"contained",color:"primary",onClick:l,children:"-"}),Object(K.jsx)("div",{style:{padding:"10px"},children:i}),Object(K.jsx)(H.a,{variant:"contained",color:"primary",onClick:j,children:"+"})]})]})})})),J=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.cart.addedCart})),t=Object(d.c)((function(e){return e.cart.sumPrice})),r=Object(d.b)();Object(a.useEffect)((function(){r(F())}),[e]);var c=function(e){r(S({id:e}))},n=function(e){r(B({id:e}))},i=function(e){r(L({id:e}))};return Object(K.jsx)("div",{children:Object(K.jsxs)("div",{children:[Object(K.jsx)("p",{children:"shopping list:"}),Object(K.jsx)("div",{style:{padding:"20px"},children:e.map((function(e){return Object(K.jsx)(Q,{name:e.name,price:e.price,picture:e.photo,id:e.id,toPurchase:e.toPurchase,subtractProduct:c,AddProduct:i,DeleteProduct:n},e.id)}))}),Object(K.jsx)("div",{children:t>0&&Object(K.jsxs)("span",{children:["amount to pay: ",t]})})]})})})),U=r(18),Z=r(127),$=r(122),X=r(125),ee=r(128),te=r(126),re=r(67),ae=Object(a.memo)((function(e){var t=e.mediaStyle,r=Object(d.b)(),a=Object(d.c)((function(e){return e.cart.addedCart})),c=Object(re.a)({initialValues:{country:"",town:"",city:"",house:"",apartment:"",index:"",surname:"",name:"",firstLastName:"",cardNumber:"",expirationDate:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.cardNumber?19===e.cardNumber.length&&/^[0-9]+ [0-9]+ [0-9]+ [0-9]{4}$/i.test(e.cardNumber)||(t.cardNumber="Invalid card number"):t.cardNumber="Required",e.firstLastName?/^[A-Z]+ [A-Z]{2,20}$/i.test(e.firstLastName)||(t.firstLastName="Invalid firstLastName"):t.firstLastName="Required",e.expirationDate?5===e.expirationDate.length&&/^[0-9]+\/[0-9]{2}$/i.test(e.expirationDate)||(t.expirationDate="Invalid expirationDate"):t.expirationDate="Required",e.password?/^[0-9]{3}$/i.test(e.password)||(t.password="Invalid password"):t.password="Required",t},onSubmit:function(e){r(_({addedCart:a,values:e})),c.resetForm()}});return Object(K.jsx)(Z.a,{style:{paddingLeft:"50px"},children:Object(K.jsxs)("form",{onSubmit:c.handleSubmit,style:t,children:[Object(K.jsxs)($.a,{children:[Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",label:"Country",margin:"normal"},c.getFieldProps("country"))),Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",label:"Town",margin:"normal"},c.getFieldProps("town"))),Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",label:"City",margin:"normal"},c.getFieldProps("city"))),Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",label:"House",margin:"normal"},c.getFieldProps("house")))]}),Object(K.jsxs)($.a,{children:[Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",label:"Apartment",margin:"normal"},c.getFieldProps("apartment"))),Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",type:"tel",label:"index",margin:"normal"},c.getFieldProps("index"))),Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",label:"Surname",margin:"normal"},c.getFieldProps("surname"))),Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",label:"Name",margin:"normal"},c.getFieldProps("name")))]}),Object(K.jsxs)($.a,{children:[Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",type:"tel",label:"0000 0000 0000 0000",margin:"normal"},c.getFieldProps("cardNumber"))),c.touched.cardNumber&&c.errors.cardNumber&&Object(K.jsx)("div",{style:{color:"red"},children:c.errors.cardNumber}),Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",label:"IVAN IVANOV",margin:"normal"},c.getFieldProps("firstLastName"))),c.touched.firstLastName&&c.errors.firstLastName&&Object(K.jsx)("div",{style:{color:"red"},children:c.errors.firstLastName}),Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",label:"00/00",margin:"normal"},c.getFieldProps("expirationDate"))),c.touched.expirationDate&&c.errors.expirationDate&&Object(K.jsx)("div",{style:{color:"red"},children:c.errors.expirationDate}),Object(K.jsx)(X.a,Object(U.a)({variant:"outlined",label:"000",margin:"normal"},c.getFieldProps("password"))),c.touched.password&&c.errors.password&&Object(K.jsx)("div",{style:{color:"red"},children:c.errors.password}),Object(K.jsx)(ee.a,{label:"remember me",control:Object(K.jsx)(te.a,Object(U.a)({},c.getFieldProps("rememberMe"))),checked:c.values.rememberMe}),Object(K.jsx)(H.a,{type:"submit",variant:"contained",color:"primary",children:"buy"})]})]})})})),ce=r(52),ne=r.n(ce),ie=Object(a.memo)((function(e){var t=e.mediaStyle;return Object(K.jsx)("div",{className:ne.a.container,children:Object(K.jsx)("div",{style:{display:"flex"},children:Object(K.jsxs)("div",{style:t,children:[Object(K.jsx)(J,{}),Object(K.jsx)(ae,{mediaStyle:t})]})})})})),de=r(31),oe=r(7),se=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.cart.conditionBuy})),t=Object(d.b)(),r=Object(oe.f)(),c=Object(a.useState)(window.matchMedia("(min-width: 550px)").matches),n=Object(de.a)(c,2),i=n[0],o=n[1];Object(a.useEffect)((function(){window.matchMedia("(min-width: 550px)").addEventListener("change",(function(e){return o(e.matches)}))}),[]);var s=i?{display:"flex"}:{display:"block"};return Object(a.useEffect)((function(){t(E({result:!1}))}),[e]),e&&r("/test--shop-with-goods",{replace:!0}),Object(K.jsx)("div",{children:Object(K.jsx)(ie,{mediaStyle:s})})})),ue=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.cart.sumPrice}));return Object(K.jsxs)("div",{children:[Object(K.jsx)(o.b,{to:"/test--shop-with-goods",style:{textDecoration:"none"},children:Object(K.jsx)(H.a,{color:"inherit",children:Object(K.jsx)("p",{style:{color:"#fff"},children:"Goods"})})}),Object(K.jsx)(o.b,{to:"/cart",style:{textDecoration:"none"},children:Object(K.jsxs)(H.a,{color:"inherit",children:[Object(K.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAABN0lEQVRIx2NgGM7gf/1/GFhMLYN+/1egjkH//0+h3IPO/0kHt/4rYTPqJBlGFWIzKIBkY/7818ZmEOP/K2DpSoLBwPj/LFjlHFwKYsHSL/9zEjAoBqzuy38pXApY/t8HK8nBawzH/4dgVU34FGWBlTz4z4pHTTlYzYv/PPhtew5WFo9Thcj/D2AVGYQCEmLftf+MOOQnQuVZCBnE9/89WGkQVlmV/z/Bsr7EpPEWqJ31WOARsNwB4jKLLYFk+O+/CXEGbSdgUANxxrhCC5QWrF6r+G9FnDFM/y+ADZpJaWFiAzbm838JSg0qBBt0Eau3UKEDfoO8iC5C6gkVEKupYhA4uD3/11HsNWrWcibAbPAZiE1Il0VWKP7/LTQM3mEmAfyyqEqTkIIzlTRZGhlELa9RLbCHEwAAzDjcMcF63UIAAAAASUVORK5CYII=",alt:"cart"}),e>0&&Object(K.jsx)("p",{style:{color:"#fff"},children:e})]})})]})})),le=Object(a.memo)((function(){return Object(K.jsxs)(oe.c,{children:[Object(K.jsx)(oe.a,{path:"/test--shop-with-goods",element:Object(K.jsx)(be,{})}),Object(K.jsx)(oe.a,{path:"/cart",element:Object(K.jsx)(se,{})})]})})),je=Object(a.memo)((function(e){var t=e.photo,r=e.id,a=e.name,c=e.price,n=Object(d.c)((function(e){return e.cart.addedCart})),i=Object(d.b)();return Object(K.jsxs)("div",{style:{padding:"20px"},children:[Object(K.jsx)("img",{src:t,alt:"product_photo",style:{width:"300px",height:"300px"}}),Object(K.jsx)("p",{children:a}),Object(K.jsx)("h3",{children:c}),Object(K.jsx)(H.a,{variant:"contained",color:"primary",onClick:function(){n.some((function(e){return e.id===r}))?i(L({id:r})):i(I(r))},children:"buy"})]})})),be=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.goods.data}));return Object(K.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:Object(K.jsx)("div",{className:ne.a.container,children:e.map((function(e){return Object(K.jsx)(je,{photo:e.photo,name:e.name,id:e.id,price:e.price},e.id)}))})})})),pe=Object(a.memo)((function(){var e=Object(d.b)();return Object(a.useEffect)((function(){(function(){try{var e=localStorage.getItem("addedProduct");return null!==e?JSON.parse(e).filter((function(e){return null!==e})):[]}catch(t){return null}})().map((function(t){return e(k({addProduct:t}))})),e(M(1))}),[]),Object(K.jsxs)("div",{children:[Object(K.jsx)(Y.a,{position:"static",children:Object(K.jsx)(q.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(K.jsx)(ue,{})})}),Object(K.jsx)(le,{})]})})),me=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,130)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;r(e),a(e),c(e),n(e),i(e)}))};i.a.render(Object(K.jsx)(c.a.StrictMode,{children:Object(K.jsx)(o.a,{children:Object(K.jsx)(d.a,{store:R,children:Object(K.jsx)(pe,{})})})}),document.getElementById("root")),me()}},[[90,1,2]]]);
//# sourceMappingURL=main.17500580.chunk.js.map