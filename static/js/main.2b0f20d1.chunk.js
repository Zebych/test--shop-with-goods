(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{52:function(e,t,r){e.exports={container:"Container_container__2WC6z"}},78:function(e,t,r){},90:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=(r(78),r(10)),i=r.n(n),d=r(13),o=r(33),s=r(24),u=r(20),l=r(43),j=r(68),b=r.p+"static/media/6-1000x1000.9c0a3947.jpg",p=r.p+"static/media/6064641689.2e40e89d.jpg",m=r.p+"static/media/680395566_w640_h640_kruzhka-s-prikolom.6603be42.jpg",O=r.p+"static/media/kruzhka_sgushchenka_img.d966e552.webp",h=r.p+"static/media/people_2_mug_chameleon_front_whitered_500.8f503f2c.jpg",f=r.p+"static/media/pic1white.1ea6d9b1.jpg",x=[{name:"mug1",photo:b,id:1,price:50,toPurchase:1,inStock:10},{name:"mug3",photo:p,id:3,price:90,toPurchase:1,inStock:10},{name:"mug2",photo:m,id:2,price:70,toPurchase:1,inStock:10},{name:"mug4",photo:O,id:4,price:100,toPurchase:1,inStock:10},{name:"mug5",photo:h,id:5,price:110,toPurchase:1,inStock:10},{name:"mug6",photo:r.p+"static/media/product_57508_0_0_0.5fd91d27.jpg",id:6,price:120,toPurchase:1,inStock:10},{name:"mug7",photo:f,id:7,price:130,toPurchase:1,inStock:10}],g=[],v=function(e){return new Promise((function(t){setTimeout((function(){1===e&&t({result:"success",data:x}),t({result:"error",data:[]})}),1e3)}))},y=function(e){return new Promise((function(t){setTimeout((function(){t(x.find((function(t){return t.id===e})))}),0)}))},P=function(e,t){return g.push(e,t),new Promise((function(e){setTimeout((function(){e({result:"true"})}),1e3)}))},C=function(e){try{var t=JSON.stringify(e);localStorage.setItem("addedProduct",t)}catch(r){}},w=Object(s.c)({name:"cart",initialState:{sumPrice:0,addedCart:[],conditionBuy:!1},reducers:{setCart:function(e,t){var r=t.payload.addProduct;e.addedCart=[].concat(Object(j.a)(e.addedCart),[r]),e.sumPrice=e.addedCart.reduce((function(e,t){return e+t.price}),0),C(e.addedCart)},deleteCart:function(e,t){e.addedCart=e.addedCart.filter((function(e){return e.id!==t.payload.id})),C(e.addedCart)},totalPrice:function(e){e.sumPrice=e.addedCart.reduce((function(e,t){return e+t.price}),0)},subtractCart:function(e,t){e.addedCart.map((function(r){return r.id===t.payload.id&&(r.price-=r.price/r.toPurchase,r.toPurchase-=1),e})),C(e.addedCart)},addProductInCart:function(e,t){e.addedCart.map((function(e){var r=t.payload;return e.id===r.id&&(e.price+=e.price/e.toPurchase,e.toPurchase+=1),e})),e.sumPrice=e.addedCart.reduce((function(e,t){return e+t.price}),0),C(e.addedCart)},setBuy:function(e,t){e.conditionBuy=t.payload.result,e.addedCart=[],e.sumPrice=e.addedCart.reduce((function(e,t){return e+t.price}),0),C(e.addedCart)}}}),A=w.reducer,N=w.actions,k=N.setCart,F=N.totalPrice,S=N.subtractCart,L=N.addProductInCart,D=N.deleteCart,I=N.setBuy,E=Object(s.b)("cart/addInCart",(function(e,t){return y(e).then((function(e){t.dispatch(k({addProduct:e}))}))})),B=Object(s.b)("cart/buy",(function(e,t){P(e.addedCart,e.values).then((function(e){t.dispatch(I(e))}))})),_=r(57),T=r.n(_),V=r(60),z=Object(s.b)("goods/goodsAll",function(){var e=Object(V.a)(T.a.mark((function e(t,r){var a,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return a=e.sent,c=a.data,r.dispatch(F()),e.abrupt("return",{data:c});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),M=Object(s.c)({name:"goods",initialState:{result:"",data:[]},reducers:{},extraReducers:function(e){e.addCase(z.fulfilled,(function(e,t){e.data=t.payload.data}))}}).reducer,W=Object(u.b)({goods:M,cart:A}),G=Object(s.a)({reducer:W,middleware:function(e){return e().prepend(l.a)}});window.store=G;var R=r(123),Y=r(124),q=r(118),H=r(2),K=Object(a.memo)((function(e){var t=e.picture,r=e.name,c=e.price,n=e.id,i=e.toPurchase,d=e.subtractProduct,o=e.DeleteProduct,s=e.AddProduct,u=Object(a.useCallback)((function(){d(n)}),[]),l=Object(a.useCallback)((function(){o(n)}),[]),j=Object(a.useCallback)((function(){s(n)}),[]);return Object(H.jsx)("div",{children:Object(H.jsxs)("div",{children:[Object(H.jsx)("img",{src:t,alt:"product_photo",style:{width:"150px",height:"150px"}}),Object(H.jsx)("div",{children:Object(H.jsx)("p",{children:r})}),Object(H.jsx)("div",{children:Object(H.jsx)("p",{children:c})}),Object(H.jsxs)("div",{style:{display:"flex"},children:[i>1?Object(H.jsx)(q.a,{variant:"contained",color:"primary",onClick:u,children:"-"}):Object(H.jsx)(q.a,{variant:"contained",color:"primary",onClick:l,children:"-"}),Object(H.jsx)("div",{style:{padding:"10px"},children:i}),Object(H.jsx)(q.a,{variant:"contained",color:"primary",onClick:j,children:"+"})]})]})})})),Q=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.cart.addedCart})),t=Object(d.c)((function(e){return e.cart.sumPrice})),r=Object(d.b)();Object(a.useEffect)((function(){r(F())}),[e]);var c=function(e){r(S({id:e}))},n=function(e){r(D({id:e}))},i=function(e){r(L({id:e}))};return Object(H.jsx)("div",{children:Object(H.jsxs)("div",{children:[Object(H.jsx)("p",{children:"shopping list:"}),Object(H.jsx)("div",{style:{padding:"20px"},children:e.map((function(e){return Object(H.jsx)(K,{name:e.name,price:e.price,picture:e.photo,id:e.id,toPurchase:e.toPurchase,subtractProduct:c,AddProduct:i,DeleteProduct:n},e.id)}))}),Object(H.jsx)("div",{children:t>0&&Object(H.jsxs)("span",{children:["amount to pay: ",t]})})]})})})),J=r(18),U=r(127),Z=r(122),$=r(125),X=r(128),ee=r(126),te=r(67),re=Object(a.memo)((function(e){var t=e.mediaStyle,r=Object(d.b)(),a=Object(d.c)((function(e){return e.cart.addedCart})),c=Object(te.a)({initialValues:{country:"",town:"",city:"",house:"",apartment:"",index:"",surname:"",name:"",firstLastName:"",cardNumber:"",expirationDate:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.cardNumber?19===e.cardNumber.length&&/^[0-9]+ [0-9]+ [0-9]+ [0-9]{4}$/i.test(e.cardNumber)||(t.cardNumber="Invalid card number"):t.cardNumber="Required",e.firstLastName?/^[A-Z]+ [A-Z]{2,20}$/i.test(e.firstLastName)||(t.firstLastName="Invalid firstLastName"):t.firstLastName="Required",e.expirationDate?5===e.expirationDate.length&&/^[0-9]+\/[0-9]{2}$/i.test(e.expirationDate)||(t.expirationDate="Invalid expirationDate"):t.expirationDate="Required",e.password?/^[0-9]{3}$/i.test(e.password)||(t.password="Invalid password"):t.password="Required",t},onSubmit:function(e){r(B({addedCart:a,values:e})),c.resetForm()}});return Object(H.jsx)(U.a,{style:{paddingLeft:"50px"},children:Object(H.jsxs)("form",{onSubmit:c.handleSubmit,style:t,children:[Object(H.jsxs)(Z.a,{children:[Object(H.jsx)($.a,Object(J.a)({variant:"outlined",label:"Country",margin:"normal"},c.getFieldProps("country"))),Object(H.jsx)($.a,Object(J.a)({variant:"outlined",label:"Town",margin:"normal"},c.getFieldProps("town"))),Object(H.jsx)($.a,Object(J.a)({variant:"outlined",label:"City",margin:"normal"},c.getFieldProps("city"))),Object(H.jsx)($.a,Object(J.a)({variant:"outlined",label:"House",margin:"normal"},c.getFieldProps("house")))]}),Object(H.jsxs)(Z.a,{children:[Object(H.jsx)($.a,Object(J.a)({variant:"outlined",label:"Apartment",margin:"normal"},c.getFieldProps("apartment"))),Object(H.jsx)($.a,Object(J.a)({variant:"outlined",type:"tel",label:"index",margin:"normal"},c.getFieldProps("index"))),Object(H.jsx)($.a,Object(J.a)({variant:"outlined",label:"Surname",margin:"normal"},c.getFieldProps("surname"))),Object(H.jsx)($.a,Object(J.a)({variant:"outlined",label:"Name",margin:"normal"},c.getFieldProps("name")))]}),Object(H.jsxs)(Z.a,{children:[Object(H.jsx)($.a,Object(J.a)({variant:"outlined",type:"tel",label:"0000 0000 0000 0000",margin:"normal"},c.getFieldProps("cardNumber"))),c.touched.cardNumber&&c.errors.cardNumber&&Object(H.jsx)("div",{style:{color:"red"},children:c.errors.cardNumber}),Object(H.jsx)($.a,Object(J.a)({variant:"outlined",label:"IVAN IVANOV",margin:"normal"},c.getFieldProps("firstLastName"))),c.touched.firstLastName&&c.errors.firstLastName&&Object(H.jsx)("div",{style:{color:"red"},children:c.errors.firstLastName}),Object(H.jsx)($.a,Object(J.a)({variant:"outlined",label:"00/00",margin:"normal"},c.getFieldProps("expirationDate"))),c.touched.expirationDate&&c.errors.expirationDate&&Object(H.jsx)("div",{style:{color:"red"},children:c.errors.expirationDate}),Object(H.jsx)($.a,Object(J.a)({variant:"outlined",label:"000",margin:"normal"},c.getFieldProps("password"))),c.touched.password&&c.errors.password&&Object(H.jsx)("div",{style:{color:"red"},children:c.errors.password}),Object(H.jsx)(X.a,{label:"remember me",control:Object(H.jsx)(ee.a,Object(J.a)({},c.getFieldProps("rememberMe"))),checked:c.values.rememberMe}),Object(H.jsx)(q.a,{type:"submit",variant:"contained",color:"primary",children:"buy"})]})]})})})),ae=r(52),ce=r.n(ae),ne=Object(a.memo)((function(e){var t=e.mediaStyle;return Object(H.jsx)("div",{className:ce.a.container,children:Object(H.jsx)("div",{style:{display:"flex"},children:Object(H.jsxs)("div",{style:t,children:[Object(H.jsx)(Q,{}),Object(H.jsx)(re,{mediaStyle:t})]})})})})),ie=r(31),de=r(7),oe=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.cart.conditionBuy})),t=Object(de.f)(),r=Object(a.useState)(window.matchMedia("(min-width: 550px)").matches),c=Object(ie.a)(r,2),n=c[0],i=c[1];Object(a.useEffect)((function(){window.matchMedia("(min-width: 550px)").addEventListener("change",(function(e){return i(e.matches)}))}),[]);var o=n?{display:"flex"}:{display:"block"};return e&&t("/test--shop-with-goods",{replace:!0}),Object(H.jsx)("div",{children:Object(H.jsx)(ne,{mediaStyle:o})})})),se=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.cart.sumPrice}));return Object(H.jsxs)("div",{children:[Object(H.jsx)(o.b,{to:"/test--shop-with-goods",style:{textDecoration:"none"},children:Object(H.jsx)(q.a,{color:"inherit",children:Object(H.jsx)("p",{style:{color:"#fff"},children:"Goods"})})}),Object(H.jsx)(o.b,{to:"/cart",style:{textDecoration:"none"},children:Object(H.jsxs)(q.a,{color:"inherit",children:[Object(H.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAABN0lEQVRIx2NgGM7gf/1/GFhMLYN+/1egjkH//0+h3IPO/0kHt/4rYTPqJBlGFWIzKIBkY/7818ZmEOP/K2DpSoLBwPj/LFjlHFwKYsHSL/9zEjAoBqzuy38pXApY/t8HK8nBawzH/4dgVU34FGWBlTz4z4pHTTlYzYv/PPhtew5WFo9Thcj/D2AVGYQCEmLftf+MOOQnQuVZCBnE9/89WGkQVlmV/z/Bsr7EpPEWqJ31WOARsNwB4jKLLYFk+O+/CXEGbSdgUANxxrhCC5QWrF6r+G9FnDFM/y+ADZpJaWFiAzbm838JSg0qBBt0Eau3UKEDfoO8iC5C6gkVEKupYhA4uD3/11HsNWrWcibAbPAZiE1Il0VWKP7/LTQM3mEmAfyyqEqTkIIzlTRZGhlELa9RLbCHEwAAzDjcMcF63UIAAAAASUVORK5CYII=",alt:"cart"}),e>0&&Object(H.jsx)("p",{style:{color:"#fff"},children:e})]})})]})})),ue=Object(a.memo)((function(){return Object(H.jsxs)(de.c,{children:[Object(H.jsx)(de.a,{path:"/test--shop-with-goods",element:Object(H.jsx)(je,{})}),Object(H.jsx)(de.a,{path:"/cart",element:Object(H.jsx)(oe,{})})]})})),le=Object(a.memo)((function(e){var t=e.photo,r=e.id,a=e.name,c=e.price,n=Object(d.c)((function(e){return e.cart.addedCart})),i=Object(d.b)();return Object(H.jsxs)("div",{style:{padding:"20px"},children:[Object(H.jsx)("img",{src:t,alt:"product_photo",style:{width:"300px",height:"300px"}}),Object(H.jsx)("p",{children:a}),Object(H.jsx)("h3",{children:c}),Object(H.jsx)(q.a,{variant:"contained",color:"primary",onClick:function(){n.some((function(e){return e.id===r}))?i(L({id:r})):i(E(r))},children:"buy"})]})})),je=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.goods.data}));return Object(H.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:Object(H.jsx)("div",{className:ce.a.container,children:e.map((function(e){return Object(H.jsx)(le,{photo:e.photo,name:e.name,id:e.id,price:e.price},e.id)}))})})})),be=Object(a.memo)((function(){var e=Object(d.b)();return Object(a.useEffect)((function(){(function(){try{var e=localStorage.getItem("addedProduct");return null!==e?JSON.parse(e).filter((function(e){return null!==e})):[]}catch(t){return null}})().map((function(t){return e(k({addProduct:t}))})),e(z(1))}),[]),Object(H.jsxs)("div",{children:[Object(H.jsx)(R.a,{position:"static",children:Object(H.jsx)(Y.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(H.jsx)(se,{})})}),Object(H.jsx)(ue,{})]})})),pe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,130)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;r(e),a(e),c(e),n(e),i(e)}))};i.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(o.a,{children:Object(H.jsx)(d.a,{store:G,children:Object(H.jsx)(be,{})})})}),document.getElementById("root")),pe()}},[[90,1,2]]]);
//# sourceMappingURL=main.2b0f20d1.chunk.js.map