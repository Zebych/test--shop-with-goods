(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{52:function(e,t,r){e.exports={container:"Container_container__2QKjX"}},76:function(e,t,r){},87:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=(r(76),r(10)),i=r.n(n),d=r(12),o=r(33),s=r(31),u=r(20),l=r(43),j=r(66),b=r.p+"static/media/6-1000x1000.9c0a3947.jpg",m=r.p+"static/media/6064641689.2e40e89d.jpg",p=r.p+"static/media/680395566_w640_h640_kruzhka-s-prikolom.6603be42.jpg",O=r.p+"static/media/kruzhka_sgushchenka_img.d966e552.webp",h=r.p+"static/media/people_2_mug_chameleon_front_whitered_500.8f503f2c.jpg",f=r.p+"static/media/pic1white.1ea6d9b1.jpg",x=[{name:"mug1",photo:b,id:1,price:50,toPurchase:1,inStock:10},{name:"mug3",photo:m,id:3,price:90,toPurchase:1,inStock:10},{name:"mug2",photo:p,id:2,price:70,toPurchase:1,inStock:10},{name:"mug4",photo:O,id:4,price:100,toPurchase:1,inStock:10},{name:"mug5",photo:h,id:5,price:110,toPurchase:1,inStock:10},{name:"mug6",photo:r.p+"static/media/product_57508_0_0_0.5fd91d27.jpg",id:6,price:120,toPurchase:1,inStock:10},{name:"mug7",photo:f,id:7,price:130,toPurchase:1,inStock:10}],g=[],y=function(e){return new Promise((function(t){setTimeout((function(){1===e&&t({result:"success",data:x}),t({result:"error",data:[]})}),1e3)}))},v=function(e){return new Promise((function(t){setTimeout((function(){t(x.find((function(t){return t.id===e})))}),0)}))},P=function(e,t){return g.push(e,t),new Promise((function(e){setTimeout((function(){e({result:"true"})}),1e3)}))},C=function(e){try{var t=JSON.stringify(e);localStorage.setItem("addedProduct",t)}catch(r){}},A=Object(s.c)({name:"cart",initialState:{sumPrice:0,addedCart:[],conditionBuy:!1},reducers:{setCart:function(e,t){var r=t.payload.addProduct;e.addedCart=[].concat(Object(j.a)(e.addedCart),[r]),C(e.addedCart)},deleteCart:function(e,t){e.addedCart=e.addedCart.filter((function(e){return e.id!==t.payload.id})),C(e.addedCart)},totalPrice:function(e){e.sumPrice=e.addedCart.reduce((function(e,t){return e+t.price}),0)},subtractCart:function(e,t){e.addedCart.map((function(r){return r.id===t.payload.id&&(r.price-=r.price/r.toPurchase,r.toPurchase-=1),e})),C(e.addedCart)},addProductInCart:function(e,t){e.addedCart.map((function(e){var r=t.payload;return e.id===r.id&&(e.price+=e.price/e.toPurchase,e.toPurchase+=1),e})),C(e.addedCart)},setBuy:function(e,t){e.conditionBuy=t.payload.result},cartClear:function(e){e.addedCart=[],C(e.addedCart)}}}),w=A.reducer,N=A.actions,k=N.setCart,F=N.totalPrice,S=N.subtractCart,L=N.addProductInCart,D=N.deleteCart,E=N.setBuy,I=N.cartClear,B=Object(s.b)("cart/addInCart",(function(e,t){return v(e).then((function(e){t.dispatch(F()),t.dispatch(k({addProduct:e}))}))})),_=Object(s.b)("cart/buy",(function(e,t){P(e.addedCart,e.values).then((function(e){t.dispatch(E(e)),t.dispatch(I()),t.dispatch(F())}))})),T=Object(s.c)({name:"goods",initialState:{result:"",data:[]},reducers:{goodsAll:function(e,t){e.data=t.payload.data}}}),V=T.reducer,z=T.actions.goodsAll,M=Object(u.b)({goods:V,cart:w}),G=Object(s.a)({reducer:M,middleware:function(e){return e().prepend(l.a)}});window.store=G;var K=r(120),W=r(121),Y=r(115),q=r(2),H=Object(a.memo)((function(e){var t=e.picture,r=e.name,c=e.price,n=e.id,i=e.toPurchase,d=e.subtractProduct,o=e.DeleteProduct,s=e.AddProduct,u=Object(a.useCallback)((function(){d(n)}),[]),l=Object(a.useCallback)((function(){o(n)}),[]),j=Object(a.useCallback)((function(){s(n)}),[]);return Object(q.jsx)("div",{children:Object(q.jsxs)("div",{children:[Object(q.jsx)("img",{src:t,alt:"product_photo",style:{width:"150px",height:"150px"}}),Object(q.jsx)("div",{children:Object(q.jsx)("p",{children:r})}),Object(q.jsx)("div",{children:Object(q.jsx)("p",{children:c})}),Object(q.jsxs)("div",{style:{display:"flex"},children:[i>1?Object(q.jsx)(Y.a,{variant:"contained",color:"primary",onClick:u,children:"-"}):Object(q.jsx)(Y.a,{variant:"contained",color:"primary",onClick:l,children:"-"}),Object(q.jsx)("div",{style:{padding:"10px"},children:i}),Object(q.jsx)(Y.a,{variant:"contained",color:"primary",onClick:j,children:"+"})]})]})})})),Q=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.cart.addedCart})),t=Object(d.c)((function(e){return e.cart.sumPrice})),r=Object(d.b)();Object(a.useEffect)((function(){r(F())}),[e]);var c=function(e){r(S({id:e}))},n=function(e){r(D({id:e}))},i=function(e){r(L({id:e}))};return Object(q.jsx)("div",{children:Object(q.jsxs)("div",{children:[Object(q.jsx)("p",{children:"shopping list:"}),Object(q.jsx)("div",{style:{padding:"20px"},children:e.map((function(e){return Object(q.jsx)(H,{name:e.name,price:e.price,picture:e.photo,id:e.id,toPurchase:e.toPurchase,subtractProduct:c,AddProduct:i,DeleteProduct:n},e.id)}))}),Object(q.jsx)("div",{children:t>0&&Object(q.jsxs)("span",{children:["amount to pay: ",t]})})]})})})),R=r(18),J=r(124),U=r(119),Z=r(122),$=r(125),X=r(123),ee=r(65),te=Object(a.memo)((function(e){var t=e.mediaStyle,r=Object(d.b)(),a=Object(d.c)((function(e){return e.cart.addedCart})),c=Object(ee.a)({initialValues:{country:"",town:"",city:"",house:"",apartment:"",index:"",surname:"",name:"",firstLastName:"",cardNumber:"",expirationDate:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.cardNumber?19===e.cardNumber.length&&/^[0-9]+ [0-9]+ [0-9]+ [0-9]{4}$/i.test(e.cardNumber)||(t.cardNumber="Invalid card number"):t.cardNumber="Required",e.firstLastName?/^[A-Z]+ [A-Z]{2,20}$/i.test(e.firstLastName)||(t.firstLastName="Invalid firstLastName"):t.firstLastName="Required",e.expirationDate?5===e.expirationDate.length&&/^[0-9]+\/[0-9]{2}$/i.test(e.expirationDate)||(t.expirationDate="Invalid expirationDate"):t.expirationDate="Required",e.password?/^[0-9]{3}$/i.test(e.password)||(t.password="Invalid password"):t.password="Required",t},onSubmit:function(e){r(_({addedCart:a,values:e})),c.resetForm()}});return Object(q.jsx)(J.a,{style:{paddingLeft:"50px"},children:Object(q.jsxs)("form",{onSubmit:c.handleSubmit,style:t,children:[Object(q.jsxs)(U.a,{children:[Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",label:"Country",margin:"normal"},c.getFieldProps("country"))),Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",label:"Town",margin:"normal"},c.getFieldProps("town"))),Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",label:"City",margin:"normal"},c.getFieldProps("city"))),Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",label:"House",margin:"normal"},c.getFieldProps("house")))]}),Object(q.jsxs)(U.a,{children:[Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",label:"Apartment",margin:"normal"},c.getFieldProps("apartment"))),Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",type:"tel",label:"index",margin:"normal"},c.getFieldProps("index"))),Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",label:"Surname",margin:"normal"},c.getFieldProps("surname"))),Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",label:"Name",margin:"normal"},c.getFieldProps("name")))]}),Object(q.jsxs)(U.a,{children:[Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",type:"tel",label:"0000 0000 0000 0000",margin:"normal"},c.getFieldProps("cardNumber"))),c.touched.cardNumber&&c.errors.cardNumber&&Object(q.jsx)("div",{style:{color:"red"},children:c.errors.cardNumber}),Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",label:"IVAN IVANOV",margin:"normal"},c.getFieldProps("firstLastName"))),c.touched.firstLastName&&c.errors.firstLastName&&Object(q.jsx)("div",{style:{color:"red"},children:c.errors.firstLastName}),Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",label:"00/00",margin:"normal"},c.getFieldProps("expirationDate"))),c.touched.expirationDate&&c.errors.expirationDate&&Object(q.jsx)("div",{style:{color:"red"},children:c.errors.expirationDate}),Object(q.jsx)(Z.a,Object(R.a)({variant:"outlined",label:"000",margin:"normal"},c.getFieldProps("password"))),c.touched.password&&c.errors.password&&Object(q.jsx)("div",{style:{color:"red"},children:c.errors.password}),Object(q.jsx)($.a,{label:"remember me",control:Object(q.jsx)(X.a,Object(R.a)({},c.getFieldProps("rememberMe"))),checked:c.values.rememberMe}),Object(q.jsx)(Y.a,{type:"submit",variant:"contained",color:"primary",children:"buy"})]})]})})})),re=r(52),ae=r.n(re),ce=Object(a.memo)((function(e){var t=e.mediaStyle;return Object(q.jsx)("div",{className:ae.a.container,children:Object(q.jsx)("div",{style:{display:"flex"},children:Object(q.jsxs)("div",{style:t,children:[Object(q.jsx)(Q,{}),Object(q.jsx)(te,{mediaStyle:t})]})})})})),ne=r(30),ie=r(7),de=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.cart.conditionBuy})),t=Object(d.b)(),r=Object(ie.f)(),c=Object(a.useState)(window.matchMedia("(min-width: 550px)").matches),n=Object(ne.a)(c,2),i=n[0],o=n[1];Object(a.useEffect)((function(){window.matchMedia("(min-width: 550px)").addEventListener("change",(function(e){return o(e.matches)}))}),[]);var s=i?{display:"flex"}:{display:"block"};return Object(a.useEffect)((function(){setTimeout((function(){t(E({result:!1}))}),3e3)}),[e]),e&&r("/",{replace:!0}),Object(q.jsx)("div",{children:Object(q.jsx)(ce,{mediaStyle:s})})})),oe=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.cart.sumPrice}));return Object(q.jsxs)("div",{children:[Object(q.jsx)(o.b,{to:"/",style:{textDecoration:"none"},children:Object(q.jsx)(Y.a,{color:"inherit",children:Object(q.jsx)("p",{style:{color:"#fff"},children:"Goods"})})}),Object(q.jsx)(o.b,{to:"/cart",style:{textDecoration:"none"},children:Object(q.jsxs)(Y.a,{color:"inherit",children:[Object(q.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAABN0lEQVRIx2NgGM7gf/1/GFhMLYN+/1egjkH//0+h3IPO/0kHt/4rYTPqJBlGFWIzKIBkY/7818ZmEOP/K2DpSoLBwPj/LFjlHFwKYsHSL/9zEjAoBqzuy38pXApY/t8HK8nBawzH/4dgVU34FGWBlTz4z4pHTTlYzYv/PPhtew5WFo9Thcj/D2AVGYQCEmLftf+MOOQnQuVZCBnE9/89WGkQVlmV/z/Bsr7EpPEWqJ31WOARsNwB4jKLLYFk+O+/CXEGbSdgUANxxrhCC5QWrF6r+G9FnDFM/y+ADZpJaWFiAzbm838JSg0qBBt0Eau3UKEDfoO8iC5C6gkVEKupYhA4uD3/11HsNWrWcibAbPAZiE1Il0VWKP7/LTQM3mEmAfyyqEqTkIIzlTRZGhlELa9RLbCHEwAAzDjcMcF63UIAAAAASUVORK5CYII=",alt:"cart"}),e>0&&Object(q.jsx)("p",{style:{color:"#fff"},children:e})]})})]})})),se=Object(a.memo)((function(){return Object(q.jsxs)(ie.c,{children:[Object(q.jsx)(ie.a,{path:"/",element:Object(q.jsx)(le,{})}),Object(q.jsx)(ie.a,{path:"/cart",element:Object(q.jsx)(de,{})})]})})),ue=Object(a.memo)((function(e){var t=e.photo,r=e.id,a=e.name,c=e.price,n=Object(d.c)((function(e){return e.cart.addedCart})),i=Object(d.b)();return Object(q.jsxs)("div",{style:{padding:"20px"},children:[Object(q.jsx)("img",{src:t,alt:"product_photo",style:{width:"300px",height:"300px"}}),Object(q.jsx)("p",{children:a}),Object(q.jsx)("h3",{children:c}),Object(q.jsx)(Y.a,{variant:"contained",color:"primary",onClick:function(){n.some((function(e){return e.id===r}))?(i(L({id:r})),i(F())):i(B(r))},children:"buy"})]})})),le=Object(a.memo)((function(){var e=Object(d.c)((function(e){return e.goods.data}));return Object(q.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:Object(q.jsx)("div",{className:ae.a.container,children:e.map((function(e){return Object(q.jsx)(ue,{photo:e.photo,name:e.name,id:e.id,price:e.price},e.id)}))})})})),je=Object(a.memo)((function(){var e=Object(d.b)();return Object(a.useEffect)((function(){var t;(function(){try{var e=localStorage.getItem("addedProduct");return null!==e?JSON.parse(e).filter((function(e){return null!==e})):[]}catch(t){return null}})().map((function(t){return e(k({addProduct:t}))})),e((t=1,function(e){y(t).then((function(t){e(z({data:t.data})),e(F())}))}))}),[]),Object(q.jsxs)("div",{children:[Object(q.jsx)(K.a,{position:"static",children:Object(q.jsx)(W.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(q.jsx)(oe,{})})}),Object(q.jsx)(se,{})]})})),be=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,127)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;r(e),a(e),c(e),n(e),i(e)}))};i.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsx)(o.a,{children:Object(q.jsx)(d.a,{store:G,children:Object(q.jsx)(je,{})})})}),document.getElementById("root")),be()}},[[87,1,2]]]);
//# sourceMappingURL=main.f6aefad1.chunk.js.map